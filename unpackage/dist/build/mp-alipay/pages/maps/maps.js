(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/maps/maps"],{"05b7":function(t,e,n){"use strict";n.r(e);var i=n("783c"),a=n("ea6b");for(var u in a)"default"!==u&&function(t){n.d(e,t,function(){return a[t]})}(u);n("4f10");var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},"4f10":function(t,e,n){"use strict";var i=n("a172"),a=n.n(i);a.a},"783c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"861d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("14b7"),a={data:function(){return{inputShowed:!1,inputVal:"",amapPlugin:null,key:"6799b5f6f88d3d9fb52ac244855a8759",lat:22.63137,lng:114.010857,covers:[],address:[],scrollH:256}},onLoad:function(e){var n=this;this.amapPlugin=new i.AMapWX({key:this.key});setTimeout(function(){var i=t.getSystemInfoSync().windowHeight;n.scrollH=i-44-t.upx2px(600),n.getLocation(function(){n.getPoiAround(e.key||"加油站")})},300)},methods:{trim:function(t){return t?t.toString().replace(/(^\s*)|(\s*$)/g,""):t},showInput:function(){this.inputShowed=!0},hideInput:function(){this.inputVal="",this.inputShowed=!1,t.hideKeyboard()},clearInput:function(){this.inputVal=""},inputTyping:function(t){this.inputVal=t.detail.value},getLocation:function(t){var e=this;this.amapPlugin.getRegeo({success:function(n){e.lng=n[0].longitude,e.lat=n[0].latitude,t()},fail:function(e){t()}})},getPoiAround:function(e){var n=this;t.showLoading({title:"加载中..."});var i=this;setTimeout(function(){n.amapPlugin.getPoiAround({querykeywords:e,location:"",success:function(e){for(var a=[],u=[],o=0;o<e.markers.length;o++){a.push({id:o,latitude:e.markers[o].latitude,longitude:e.markers[o].longitude,title:e.markers[o].name});var r=i.trim(e.poisData[o].tel);~r.indexOf(";")&&(r=r.split(";")[0]),u.push({id:o,latitude:e.markers[o].latitude,longitude:e.markers[o].longitude,title:e.markers[o].name,address:e.markers[o].address,tel:r,distance:e.poisData[o].distance})}n.address=u,n.covers=a,t.hideLoading()},fail:function(e){t.showToast({title:"获取位置信息失败，请检查是否打开位置权限"}),t.hideLoading()}})},0)},bindInput:function(t){var e=t.detail.value;this.getPoiAround(e)},marker:function(e){var n=this,i=n.address[e.markerId||0],a=i.tel?["打电话","到这里"]:["到这里"];t.showActionSheet({itemList:a,success:function(e){if(0==e.tapIndex&&i.tel)t.makePhoneCall({phoneNumber:i.tel});else{var n=Number(i.latitude),a=Number(i.longitude);t.openLocation({name:i.title,address:i.address,latitude:n,longitude:a,scale:18})}},fail:function(t){console.log(t.errMsg)}})},call:function(e){var n=Number(e.currentTarget.dataset.id),i=this.address[n].tel;i&&t.makePhoneCall({phoneNumber:i})},go:function(e){var n=Number(e.currentTarget.dataset.id),i=this.address[n],a=Number(i.latitude),u=Number(i.longitude);t.openLocation({name:i.title,address:i.address,latitude:a,longitude:u,scale:18})}}};e.default=a}).call(this,n("c11b")["default"])},a172:function(t,e,n){},b0cd:function(t,e,n){"use strict";(function(t){n("51a7"),n("921b");i(n("66fd"));var e=i(n("05b7"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("c11b")["createPage"])},ea6b:function(t,e,n){"use strict";n.r(e);var i=n("861d"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,function(){return i[t]})}(u);e["default"]=a.a}},[["b0cd","common/runtime","common/vendor"]]]);