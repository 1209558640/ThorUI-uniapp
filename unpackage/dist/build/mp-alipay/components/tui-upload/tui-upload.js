;my.defineComponent || (my.defineComponent = Component);(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["components/tui-upload/tui-upload"],{"04a0":function(t,e,i){},"111f":function(t,e,i){"use strict";(function(t){function i(t){return a(t)||n(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"tuiUpload",props:{value:{type:Array,default:function(){return[]}},forbidDel:{type:Boolean,default:!1},forbidAdd:{type:Boolean,default:!1},serverUrl:{type:String,default:""},limit:{type:Number,default:9},fileKeyName:{type:String,default:"file"}},data:function(){return{imageList:[],statusArr:[]}},created:function(){this.imageList=i(this.value);var t=!0,e=!1,r=void 0;try{for(var n,a=this.imageList[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){n.value;this.statusArr.push("1")}}catch(s){e=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(e)throw r}}},computed:{isShowAdd:function(){var t=!0;return(this.forbidAdd||this.limit&&this.imageList.length>=this.limit)&&(t=!1),t}},methods:{reUpLoad:function(t){var e=this;this.$set(this.statusArr,t,"2"),this.change(),this.uploadImage(t,this.imageList[t]).then(function(){e.change()}).catch(function(){e.change()})},change:function(){var t=~this.statusArr.indexOf("2")?2:1;2!=t&&~this.statusArr.indexOf("3")&&(t=3),this.$emit("complete",{status:t,imgArr:this.imageList})},chooseImage:function(){var e=this;t.chooseImage({count:e.limit-e.imageList.length,success:function(i){for(var r=[],n=0;n<i.tempFilePaths.length;n++){var a=e.imageList.length;if(a>=e.limit){t.showToast({title:"最多可上传".concat(e.limit,"张图片"),icon:"none"});break}var s=i.tempFilePaths[n];r.push(s),e.imageList.push(s),e.statusArr.push("2")}e.change();for(var u=e.imageList.length-r.length,o=0;o<r.length;o++){var l=u+o;e.serverUrl?e.uploadImage(l,r[o]).then(function(){e.change()}).catch(function(){e.change()}):(e.$set(e.statusArr,l,"1"),e.change())}}})},uploadImage:function(e,i){var r=this,n=this;return new Promise(function(a,s){t.uploadFile({url:r.serverUrl,name:r.fileKeyName,header:{},formData:{},filePath:i,success:function(t){if(console.log(t),200==t.statusCode){var i=JSON.parse(t.data.replace(/\ufeff/g,"")||"{}");i.code%100===0?(i.url&&(n.imageList[e]=i.url),n.$set(n.statusArr,e,i.url?"1":"3")):n.$set(n.statusArr,e,"3"),a(e)}else n.$set(n.statusArr,e,"3"),s(e)},fail:function(t){n.$set(n.statusArr,e,"3"),s(e)}})})},delImage:function(t){this.imageList.splice(t,1),this.statusArr.splice(t,1),this.$emit("remove",{index:t}),this.change()},previewImage:function(e){this.imageList.length&&t.previewImage({current:this.imageList[e],loop:!0,urls:this.imageList})}}};e.default=s}).call(this,i("c11b")["default"])},"43b9":function(t,e,i){"use strict";var r=i("04a0"),n=i.n(r);n.a},c729:function(t,e,i){"use strict";i.r(e);var r=i("c762"),n=i("d1d2");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("43b9");var s=i("2877"),u=Object(s["a"])(n["default"],r["a"],r["b"],!1,null,null,null);e["default"]=u.exports},c762:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return r}),i.d(e,"b",function(){return n})},d1d2:function(t,e,i){"use strict";i.r(e);var r=i("111f"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);e["default"]=n.a}}]);
;(my["webpackJsonp"] = my["webpackJsonp"] || []).push([
    'components/tui-upload/tui-upload-create-component',
    {
        'components/tui-upload/tui-upload-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('c11b')['createComponent'](__webpack_require__("c729"))
        })
    },
    [['components/tui-upload/tui-upload-create-component']]
]);                
